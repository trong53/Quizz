(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();function d(e){document.querySelector("#homepage").style.opacity="0.15",document.querySelector("#fetch404").style.display="block",document.querySelector("#messageError").innerHTML=e,document.querySelector("#closeError").onclick=function(){document.querySelector("#fetch404").style.display="none",document.querySelector("#homepage").style.opacity="1"}}const f=[["A","answer_a"],["B","answer_b"],["C","answer_c"],["D","answer_d"],["E","answer_e"],["F","answer_f"]],p={relax:40,normal:20,speed:10},m=[["\u{1F621}","\u{1F92C}","\u{1F624}","\u{1F525}","\u{1F47A}","\u{1F498}"],["\u{1F62D}","\u{1F630}","\u{1F622}","\u{1F62B}","\u{1F631}","\u{1F616}","\u{1F494}"],["\u{1F601}","\u{1F929}","\u{1F970}","\u{1F604}","\u{1F618}","\u{1F604}","\u{1F48B}"]];function h(e){const t=document.querySelector("#emoji");for(let o=0;o<50;o++){const l=document.createElement("div");l.innerText=m[e][Math.floor(Math.random()*m[e].length)],t.appendChild(l)}S(t)}function S(e){gsap.timeline().to("#emoji div",{y:"random(-200,500)",x:"random(-500,500)",z:"random(0,1000)",rotation:"random(-90,90)",duration:1.5}).to("#emoji div",{autoAlpha:0,duration:8},"=0.2").add(()=>{e.innerHTML=""})}function s(e,t,o,l){setTimeout(function(){h(e),document.getElementById("congrat_mention").style.color=o,document.querySelector(".note").style.color=o},t),document.getElementById("congrat_mention").innerText=l}function a(e){let t=document.getElementById("gif_Image_Anime"),o=document.createElement("img");o.style.width="50px",o.style.height="50px",o.src="/Quizz/Img/"+e+".gif",t.appendChild(o)}function w(e){let t=1500;document.querySelector(".note").innerText=e+"/10",e<=2?(s(0,t,"red","Oh my God, "),a("angry")):e<=5&&e>2?(s(1,t,"orange","Dommage, "),a("worried")):e<=8&&e>5?(s(2,t,"green","Bravo "),a("surprised")):(s(2,t,"green","Trop fort !!! "),a("party")),setTimeout(function(){document.getElementById("congrat_mention").style.color="white",document.querySelector(".note").style.color="white"},t+6e3)}function E(e,t,o,l){let n=document.createElement("p");n.setAttribute("class","p1"),n.innerText=parseInt(e)+1+"/ "+t[e],document.getElementById("ligne").appendChild(n);let r=document.createElement("p");r.setAttribute("class","p2"),r.innerText="R\xE9ponse "+o[7].toUpperCase()+" : "+l[e].answers[o.slice(0,8)],document.getElementById("ligne").appendChild(r)}function I(e){let t=0,o=[],l;for(const n in e){o[n]=e[n].question;for(let r in e[n].correct_answers)e[n].correct_answers[r]=="true"&&(l=r);l.slice(0,8)==window.localStorage.getItem("Answer_"+(parseInt(n)+1))?t++:E(n,o,l,e)}w(t)}function q(e,t,o){let l=document.getElementsByClassName("response");document.querySelector(".question h2").innerText="Question "+e,document.querySelector(".question p").innerText=t[e-1].question;for(let n=0;n<=5;n++)t[e-1].answers[o[n][1]]!=null?(l[n].style.display="block",l[n].innerText=o[n][0]+". "+t[e-1].answers[o[n][1]]):l[n].style.display="none"}function _(e){let t=document.getElementsByClassName("response");for(let o=0;o<=5;o++)t[o].onclick=function(l){this.classList.add("response-click");for(let n=0;n<=5;n++)n!==o&&t[n].classList.remove("response-click");localStorage.setItem("Answer_"+e,l.target.id)}}function A(e,t){let o=document.querySelector("#timeCount"),l="blue";t<=5&&(l="red"),e==40?o.style.background=`conic-gradient(
            #B0A4FA00 ${t*9}deg,
            ${l} ${t*14}deg
        )`:e==20?o.style.background=`conic-gradient(
            #B0A4FA00 ${t*18}deg,
            ${l} ${t*23}deg
        )`:o.style.background=`conic-gradient(
            #B0A4FA00 ${t*36}deg,
            ${l} ${t*41}deg
        )`}function g(e){clearInterval(e)}function u(e,t,o,l,n){if(e>10)I(t),document.getElementById("page-questions").style.display="none",document.getElementById("page-result").style.display="block";else{q(e,t,o);let r=n,c=setInterval(function(){if(document.querySelector("#timeCount").innerText=r,A(n,r),r--,r==-1){localStorage.getItem("Answer_"+e)||localStorage.setItem("Answer_"+e,""),g(c);for(let i=0;i<=5;i++)document.getElementsByClassName("response")[i].classList.remove("response-click");e++,u(e,t,o,l,n)}},1e3);_(e),document.querySelector(".question_validate").onclick=function(){e++;for(let i=0;i<=5;i++)document.getElementsByClassName("response")[i].classList.remove("response-click");g(c),u(e,t,o,l,n)}}}let y=document.querySelectorAll(".logo");y[0].classList.add("logo_animation");y[1].classList.add("logo_animation");document.querySelector(".logoanswer1").classList.add("logo_animation");let B=document.getElementById("pseudo");B.onblur=function(){window.localStorage.setItem("pseudo",this.value)};let T=document.getElementById("category");T.onchange=function(){window.localStorage.setItem("category",this.value)};let k=document.getElementById("difficulty");k.onchange=function(){window.localStorage.setItem("difficulty",this.value)};let v=document.getElementById("mode");v.onchange=function(){window.localStorage.setItem("mode",this.value)};let L=document.querySelector(".rejouer");L.onclick=function(){let e=document.getElementById("page-result"),t=document.querySelectorAll("#main_homepage select");console.log(t),e.style.display="none",homepage.style.display="block",document.getElementById("pseudo").value="Pseudo";for(let o=0;o<=2;o++)t[o].value="selected";document.querySelector("#ligne").innerHTML="",document.getElementById("gif_Image_Anime").innerHTML="",localStorage.clear()};let x=document.getElementById("commencer");const C="https://quizapi.io/api/v1/questions";x.onclick=function(){let e=localStorage.getItem("category"),t=localStorage.getItem("difficulty"),o=localStorage.getItem("mode"),l=localStorage.getItem("pseudo"),n=p[o];if(l==null||e==null||e=="selected"||t==null||t=="selected"||o==null||o=="selected")d("All fields - pseudo, category, difficulty and mode - can not be empty");else{document.querySelector(".category").innerText=e,document.querySelector(".logoanswer2").innerText=e,document.querySelector("#user-pseudo").innerText=localStorage.getItem("pseudo").trim();let r=C+`?tags=${e}&difficulty=${t}&limit=10`;fetch(r,{method:"GET",headers:{"content-type":"application/json","X-api-key":"q11SR189wd2MALuQhAXEpR3mFRSrBTFSPdvrqqMH"}}).then(async function(c){const i=await c.json();return c.ok?i:Promise.reject(c.status)}).then(function(c){c&&(document.querySelector("#homepage").style.display="none",document.querySelector("#page-questions").style.display="block",console.log(c),u(1,c,f,e,n))}).catch(function(c){let i="Error "+c+" !<br/>Il n'y a pas de donn\xE9es, merci de choisir un autre niveau de difficult\xE9";d(i)})}};
